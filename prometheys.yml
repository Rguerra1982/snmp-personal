global:
  scrape_interval: 60s
  scrape_timeout: 30s

scrape_configs:
  - job_name: 'snmp_switches_routers_v2c'
    metrics_path: /snmp
    params:
      module: [default]        # Cambiar por cisco, mikrotik, etc. si tienes m√≥dulos separados
      version: [2]
      community: [IUNGO-NOC]
    file_sd_configs:
      - files:
          - /etc/prometheus/targets/switches_routers.json
        refresh_interval: 1m
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: 192.168.100.219:9116

  - job_name: 'snmp_ups_apc_v1'
    metrics_path: /snmp
    params:
      module: [apc_ups]
      version: [1]
      community: [IUNGO-NOC]
    file_sd_configs:
      - files:
          - /etc/prometheus/targets/ups_apc.json
        refresh_interval: 1m
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: 192.168.100.219:9116

